import{r as p}from"./index.962c38c4.js";import{j as e}from"./jsx-runtime.be65cd1d.js";import{c as v}from"./contentful.f50a375e.js";import"./_commonjsHelpers.208618ea.js";const m=["~","Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];function j(){const{setBlnState:a,setTglState:d,setThnState:n,blnState:x,thnState:r}=p.exports.useContext(g),u=o=>{const c=o.target.value;if(a(parseInt(c)),r===0){const h=new Date().getFullYear();n(h)}},t=()=>{a(0),d(0)};return e.exports.jsxs("div",{className:"flex flex-col gap-2",children:[e.exports.jsx("div",{className:"relative text-xs border max-[320px]:px-2 px-4 py-2 rounded flex gap-2 items-center bg-white text-center sm:w-[150px]",children:e.exports.jsxs("span",{className:"w-full flex flex-col sm:flex-row justify-center gap-1 items-center",children:[e.exports.jsx("span",{children:"Bulan :"}),e.exports.jsx("span",{className:"font-bold text-blue-500",children:m[x]})]})}),e.exports.jsxs("div",{className:"border bg-white text-xs rounded-md h-[140px] overflow-y-auto flex flex-col",children:[e.exports.jsx("div",{className:"px-2 py-2 text-center border-b cursor-pointer hover:bg-slate-200 active:bg-slate-300 font-bold",onClick:t,children:"Semua"}),m.map((o,c)=>{if(c!==0)return e.exports.jsx("button",{className:"px-2 py-2 text-center border-b cursor-pointer hover:bg-slate-200 active:bg-slate-300",onClick:u,value:c,children:o},o)})]})]})}const S=[...Array(31).keys()].map(a=>a=a+1);function N(){const{setTglState:a,setThnState:d,setBlnState:n,tglState:x,blnState:r,thnState:u}=p.exports.useContext(g),t=c=>{const h=c.target.innerHTML;if(a(parseInt(h)),r===0){const s=new Date().getMonth();n(s)}if(u===0){const s=new Date().getFullYear();d(s)}},o=()=>{a(0)};return e.exports.jsxs("div",{className:"flex flex-col gap-2",children:[e.exports.jsx("div",{className:"relative text-xs border max-[320px]:px-2 px-4 py-2 rounded flex gap-2 items-center bg-white text-center sm:w-[120px]",children:e.exports.jsxs("span",{className:"w-full flex flex-col sm:flex-row justify-center gap-1 items-center",children:[e.exports.jsx("span",{children:"Tanggal :"}),e.exports.jsx("span",{className:"font-bold text-blue-500",children:x===0?"~":x})]})}),e.exports.jsxs("div",{className:"border bg-white text-xs rounded-md h-[140px] overflow-y-auto",children:[e.exports.jsx("div",{className:"px-2 py-2 text-center border-b cursor-pointer hover:bg-slate-200 active:bg-slate-300 font-bold",onClick:o,children:"Semua"}),S.map(c=>e.exports.jsx("div",{className:"px-2 py-2 text-center border-b cursor-pointer hover:bg-slate-200 active:bg-slate-300",onClick:t,children:c},c))]})]})}const w=["2022"];function y(){const{setThnState:a,setBlnState:d,setTglState:n,thnState:x}=p.exports.useContext(g),r=t=>{const o=t.target.innerHTML;a(parseInt(o))},u=()=>{a(1970),d(0),n(0)};return e.exports.jsxs("div",{className:"flex flex-col gap-2",children:[e.exports.jsx("div",{className:"relative text-xs border max-[320px]:px-2 px-4 py-2 rounded flex gap-2 items-center bg-white text-center sm:w-[120px]",children:e.exports.jsxs("span",{className:"w-full flex flex-col sm:flex-row justify-center gap-1 items-center",children:[e.exports.jsx("span",{children:"Tahun :"}),e.exports.jsx("span",{className:"font-bold text-blue-500",children:x===1970?"~":x})]})}),e.exports.jsxs("div",{className:"border bg-white text-xs rounded-md h-[140px] overflow-y-auto",children:[e.exports.jsx("div",{className:"px-2 py-2 text-center border-b cursor-pointer hover:bg-slate-200 active:bg-slate-300 font-bold",onClick:u,children:"Semua"}),w.map(t=>e.exports.jsx("div",{className:"px-2 py-2 text-center border-b cursor-pointer hover:bg-slate-200 active:bg-slate-300",onClick:r,children:t},t))]})]})}const{createClient:T}=v,g=p.exports.createContext({});function k({setItems:a,setLoading:d}){const[n,x]=p.exports.useState(1),[r,u]=p.exports.useState(1),[t,o]=p.exports.useState(1970),c={tglState:n,setTglState:x,blnState:r,setBlnState:u,thnState:t,setThnState:o};p.exports.useEffect(()=>{const s=new Date().getDate(),l=new Date().getMonth(),i=new Date().getFullYear();x(s),u(l+1),o(i)},[]);const h=()=>{let s={content_type:"berita"},l=n<10?"0"+n:n,i=r<10?"0"+r:r;if(l==="00"&&i!=="00"){l="01";const f=r<9?"0"+(r+1):r+1>12?r:r+1;return s["fields.tanggalBerita[gte]"]=`${t}-${i}-${l}`,s["fields.tanggalBerita[lte]"]=`${t}-${f}-${l}`,s}if(l==="00"&&i==="00"&&t!==1970){l="01",i="01";let f="31",b="12";return s["fields.tanggalBerita[gte]"]=`${t}-${i}-${l}`,s["fields.tanggalBerita[lte]"]=`${t}-${b}-${f}`,s}return l==="00"&&i==="00"&&t===1970||(s["fields.tanggalBerita"]=`${t}-${i}-${l}`),s};return p.exports.useEffect(()=>{d(!0);const s=h();T({space:"yhv40pnlg70o",accessToken:"ho3n-fblnmKTj8z8e61eQ6L1L4ORhzKKo-S5IuXKvVk"}).getEntries(s).then(l=>{a(l.items),d(!1)}).catch(l=>console.error(l))},[n,r,t]),e.exports.jsxs("div",{className:"bg-gray-100 mt-5 p-3 py-10 rounded-lg flex flex-col items-center gap-5",children:[e.exports.jsx("div",{className:"text-gray-500 font-medium",children:"Menampilkan Data :"}),e.exports.jsx("div",{className:"flex justify-center gap-5",children:e.exports.jsxs(g.Provider,{value:c,children:[e.exports.jsx(N,{}),e.exports.jsx(j,{}),e.exports.jsx(y,{})]})})]})}export{g as FilterContext,k as default};
